<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Center</title>
  <style>
    /* Stiluri pentru favorite */
    .favorite-star {
      font-size: 1.5rem;
      color: gray;
      cursor: pointer;
      transition: color 0.3s;
    }

    .favorite-star.active {
      color: gold;
    }

    /* Stiluri pentru lista de favorite */
    .favorites-list {
      max-height: 150px;
      overflow-y: scroll;
      margin-top: 30px;
      color: white;
      font-size: 1.2rem;
      padding: 10px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 10px;
    }

    .favorites-list div {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <div class="background"></div>
  <div class="music-center">
    <h1>Music Center</h1>

    <!-- Bar de căutare -->
    <input type="text" id="searchBar" class="search-bar" placeholder="Căutare muzică..." oninput="filterTracks()">
    <!-- Listă de trackuri care vor apărea pe măsură ce scrii -->
    <div id="searchResults"></div>

    <!-- Controale muzică -->
    <div class="controls">
      <button class="button" id="backButton">
        <span class="icon">&#9664;</span>
      </button>
      <button class="button" id="playPauseButton">
        <span class="icon">&#9654;</span>
      </button>
      <button class="button" id="nextButton">
        <span class="icon">&#9654;&#9654;</span>
      </button>
    </div>

    <!-- Slider-ul de volum -->
    <div class="volume-control">
      <label for="volume" style="color: white; font-size: 1.2rem;">Volum</label>
      <input type="range" id="volume" class="volume-slider" min="0" max="100" value="50">
    </div>

    <!-- Textul care indică piesa redată -->
    <div id="playingText" class="playing-text">Playing: </div>

    <!-- Lista de favorite -->
    <div class="favorites-list" id="favoritesList">
      <strong>Sunete salvate (favorite):</strong>
    </div>
  </div>

  <script>
    let isPlaying = false;
    let currentTrackIndex = 0;
    const tracks = [
      { title: "FE!N (Official Audio) ft. Playboi Carti", url: "https://raw.githubusercontent.com/catalinulwu1234/home/refs/heads/main/Travis Scott - FE!N (Official Audio) ft. Playboi Carti.mp3" },
      { title: "FUNK DO BOUNCE [Brazilian Funk]", url: "https://raw.githubusercontent.com/catalinulwu1234/home/refs/heads/main/Ariis - FUNK DO BOUNCE [Brazilian Funk].mp3" },
      // Adaugă mai multe piese aici
    ];

    let audio = new Audio(tracks[currentTrackIndex].url);
    audio.volume = document.getElementById('volume').value / 100;

    const backButton = document.getElementById('backButton');
    const playPauseButton = document.getElementById('playPauseButton');
    const nextButton = document.getElementById('nextButton');
    const volumeSlider = document.getElementById('volume');
    const searchBar = document.getElementById('searchBar');
    const searchResults = document.getElementById('searchResults');
    const playingText = document.getElementById('playingText');
    const favoritesList = document.getElementById('favoritesList');

    const favoriteTracks = [];

    // Funcție pentru a actualiza textul "Playing"
    function updatePlayingText(trackTitle) {
      playingText.textContent = `Playing: ${trackTitle}`;
    }

    // Funcție pentru a adăuga o piesă la favorite
    function toggleFavorite(track) {
      const index = favoriteTracks.indexOf(track);
      const star = document.getElementById(`star-${track.title}`);
      
      if (index === -1) {
        favoriteTracks.push(track);
        star.classList.add('active');
      } else {
        favoriteTracks.splice(index, 1);
        star.classList.remove('active');
      }
      
      updateFavoritesList();
    }

    // Actualizează lista de favorite
    function updateFavoritesList() {
      favoritesList.innerHTML = "<strong>Sunete salvate (favorite):</strong>";
      favoriteTracks.forEach(track => {
        const favoriteDiv = document.createElement('div');
        favoriteDiv.textContent = track.title;
        favoritesList.appendChild(favoriteDiv);
      });
    }

    // Funcție pentru a reda o piesă
    function playTrack(trackTitle) {
      const track = tracks.find(t => t.title === trackTitle);
      currentTrackIndex = tracks.indexOf(track);
      audio.src = track.url;
      audio.play();
      playPauseButton.innerHTML = '<span class="icon">&#10074;&#10074;</span>';
      isPlaying = true;
      updatePlayingText(track.title);
      
      // Resetarea căutării
      searchBar.value = '';
      searchResults.innerHTML = '';
    }

    // Eveniment pentru Play/Pause
    function togglePlayPause() {
      if (isPlaying) {
        playPauseButton.innerHTML = '<span class="icon">&#9654;</span>';
        audio.pause();
        isPlaying = false;
      } else {
        playPauseButton.innerHTML = '<span class="icon">&#10074;&#10074;</span>';
        audio.play();
        isPlaying = true;
      }
    }

    // Funcție pentru următoarea piesă
    function nextTrack() {
      currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
      audio.src = tracks[currentTrackIndex].url;
      audio.play();
      playPauseButton.innerHTML = '<span class="icon">&#10074;&#10074;</span>';
      isPlaying = true;
      updatePlayingText(tracks[currentTrackIndex].title);
    }

    // Funcție pentru piesa anterioară
    function previousTrack() {
      currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
      audio.src = tracks[currentTrackIndex].url;
      audio.play();
      playPauseButton.innerHTML = '<span class="icon">&#10074;&#10074;</span>';
      isPlaying = true;
      updatePlayingText(tracks[currentTrackIndex].title);
    }

    // Setarea volumului
    volumeSlider.addEventListener('input', function() {
      audio.volume = volumeSlider.value / 100;
    });

    // Căutare și redare track
    function filterTracks() {
      const query = searchBar.value.toLowerCase();
      const filteredTracks = tracks.filter(track => track.title.toLowerCase().includes(query));

      searchResults.innerHTML = filteredTracks.map(track => `
        <div onclick="playTrack('${track.title}')">
          ${track.title} <span id="star-${track.title}" class="favorite-star" onclick="toggleFavorite(${JSON.stringify(track)})">&#9733;</span>
        </div>
      `).join('');
    }

    // Adăugăm evenimentele pentru butoane
    playPauseButton.addEventListener('click', togglePlayPause);
    nextButton.addEventListener('click', nextTrack);
    backButton.addEventListener('click', previousTrack);
    searchBar.addEventListener('input', filterTracks);

    // Redare continuă
    audio.addEventListener('ended', nextTrack);

  </script>
</body>
</html>
